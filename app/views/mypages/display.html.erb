<div class="mypage-container pt-32 max-w-xl mx-auto">
  <div class="header flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold">マイページ</h1>
    <%= link_to edit_mypage_path(current_user), class: "btn btn-primary flex items-center justify-center w-8 h-8 bg-transparent border-none" do %>
    <svg class="h-8 w-8 text-gray-500"  fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
    </svg>
    <% end %>
  </div>

  <div class="user-info mt-6 p-4 bg-gray-300 rounded-lg flex items-center">
    <div class="user-icon w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mr-4 overflow-hidden">
      <% if @user.user_image.is_a?(CarrierWave::Uploader::Base) && @user.user_image.file.present? %>
        <%= image_tag @user.user_image.url, alt: "ユーザーアイコン", class: "w-full h-full object-cover" %>
      <% else %>
        <span class="text-sm"><%= @user.name %></span>
      <% end %>
    </div>
    <div>
      <p class="text-lg font-semibold"><%= current_user.name %></p>
      <p class="text-sm text-gray-600"><%= current_user.email %></p>
    </div>
  </div>

  <div class="players-info mt-6">
  <h2 class="text-xl font-semibold flex items-center">
    <span class="material-icons mr-2">👤</span>子どもプロフィール
  </h2>
  <% if @players.present? %>
    <% @players.each do |player| %>
      <div class="player-card p-4 bg-gray-100 rounded-lg mt-4 flex items-center">
        <div class="player-details flex-grow">
          <p class="font-semibold">名前:        <%= player.nickname %></p>
          <p class="text-gray-600">誕生年月:     <%= player.birth_date.present? ? player.birth_date.strftime('%Y年%m月') : 'unknown' %></p>
          <p class="text-gray-600">性別:        <%= player.gender %></p>
          <p class="text-gray-600">獲得ポイント: </p>
        </div>
        <div class="player-icon w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center ml-4 overflow-hidden">
          <% if player.player_image.present? %>
            <%= image_tag player.player_image.url, alt: "プレイヤーアイコン", class: "w-full h-full object-cover" %>
          <% else %>
            <span><%= player.nickname %></span>
          <% end %>
        </div>
      </div>
    <% end %>
  <% else %>
    <p>登録された子どもプロフィールはありません。</p>
  <% end %>
  </div>
</div>